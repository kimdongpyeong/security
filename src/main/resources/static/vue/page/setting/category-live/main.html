<div class="ma-3">
    <v-row dense>
        <v-col>
            <h1>카테고리별 Live관리</h1>
        </v-col>
    </v-row>
    <v-row dense>
        <v-col cols="12" sm="6">
            <v-card>
                <v-card-title>목록</v-card-title>
                <v-card-text>
                    <div style="max-height: 400px; overflow-y: auto;">
                        <v-simple-table dense>
                            <template v-slot:default>
                                <thead>
                                    <tr>
                                        <th class="text-center" scope="row">카테고리</th>
                                        <th class="text-center" scope="row">크리에이터명</th>
                                        <th class="text-center" scope="row">라이브 제목</th>
                                        <th class="text-center" scope="row">게시여부</th>
                                        <th class="text-center" scope="row">순서</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        v-for="(item, i) in data.liveList"
                                        :key="item.id"
                                        class="cursor--pointer"
                                        @click="clickLiveCat(item.id)"
                                    >
                                        <td class="text-center">{{item.categoryNm}}</td>
                                        <td class="text-center">{{item.creatorNm}}</td>
                                        <td class="text-center">{{item.title}}</td>
                                        <td class="text-center">{{item.publishYn === 'Y'? '게시':'미게시'}}</td>
                                        <td class="text-center">{{item.orderNo}}</td>
                                    </tr>
                                </tbody>
                            </template>
                        </v-simple-table>
                    </div>
                </v-card-text>
            </v-card>
        </v-col>
        <v-col cols="12" sm="6">
            <v-card>
                <v-card-title>상세</v-card-title>
                <v-card-text>
                    <v-form ref="form">
                        <v-row dense>
                            <v-col cols="3">
                                <v-select
						          :items="select.category"
								  v-model="data.live.categoryId"
						          label="카테고리"
						        ></v-select>
                            </v-col>
                            <v-col cols="9">
                                <v-text-field
                                    dense
                                    outlined
                                    label="라이브 제목"
                                    validate-on-blur
                                    hide-details="auto"
                                    v-model="data.live.title"
                                    maxlength="50"
                                    :rules="[rules.required]"
                                ></v-text-field>
                            </v-col>
                            <v-col cols="3">
                                <v-text-field
                                  dense
                                  outlined
                                  label="크리에이터명"
                                  hide-details="auto"
                                  validate-on-blur
                                  v-model="data.live.creatorNm"
                                  maxlength="50"
                                  :rules="[rules.required]"
                                ></v-text-field>
                            </v-col>
                            <v-col cols="9">
                                <v-text-field
                                  dense
                                  outlined
                                  label="인스타그램링크"
                                  hide-details="auto"
                                  validate-on-blur
                                  v-model="data.live.instaLink"
                                  maxlength="200"
                                  :rules="[rules.required]"
                                ></v-text-field>
                            </v-col>
                            <v-col cols="12">
                                <v-text-field
                                  dense
                                  outlined
                                  label="notion링크"
                                  hide-details="auto"
                                  validate-on-blur
                                  v-model="data.live.notionLink"
                                  maxlength="200"
                                  :rules="[rules.required]"
                                ></v-text-field>
                            </v-col>
                            <v-col cols="12" v-if="data.live.createdDate !== null && data.live.createdDate !== undefined">
                                <v-text-field
                                  dense
                                  outlined
                                  label="등록일자"
                                  hide-details="auto"
                                  validate-on-blur
                                  disabled
                                  v-model="data.live.createdDate"
                                ></v-text-field>
                            </v-col>
                            <v-col cols="3">
	                             <v-text-field
	                                label="노출순서"
	                                hide-details="auto"
	                                validate-on-blur
	                                v-model="data.live.orderNo"
	                                type="number"
	                              ></v-text-field>
                            </v-col>
                        </v-row>
                        <v-row>
                            <v-col cols="12">
                                <div class="requiredBox" style="text-align: center; border: 1px solid #EAEAEA;">
                                    <h3 class="pt-2">게시여부 </h3>
                                    <div class="pb-2 mt-2">
                                        <el-radio v-model="data.live.publishYn" label="Y">예</el-radio>
                                        <el-radio v-model="data.live.publishYn" label="N">아니오</el-radio>
                                    </div>
                                </div>
                            </v-col>
                        </v-row>
                        <v-row>
                            <v-col cols="12">
                                <v-card flat>
                                    <v-card-title>썸네일</v-card-title>
                                    <input type="file" v-model="data.live.thumbnail" ref="thumbnail" id="thumbnail"
					                        accept="image/*" style="display:none;" @change="thumbFile($event);" />
					                <label @click="$refs.thumbnail.click();">
					                    <img
					                        :src="data.thumbnailSrc"
					                        alt="썸네일"
					                        style="width: 100%; height: 350px;"
					                    />
					                    <span></span>
					                </label>
                                </v-card>
                            </v-col>
                        </v-row>
                        <v-row>
                            <v-col cols="12" class="text-right">
                                <v-btn
                                    color="secondary"
                                    @click="data.live = {}; data.thumbnailSrc ='/resources/img/test.png';"
                                >생성</v-btn>
                                <v-btn
                                    color="primary"
                                    @click="saveLive()"
                                >저장</v-btn>
                                <template v-if="data.live.id">
	                                <v-btn
	                                    color="error"
	                                    @click="removeLive()"
	                                >삭제</v-btn>
                                </template>
                            </v-col>
                        </v-row>
                    </v-form>
                </v-card-text>
            </v-card>
        </v-col>
    </v-row>
</div>